# ExecutiveAI Pro - Business Management SaaS Platform

**Full-stack SaaS com IA, Dashboard Executivo, WhatsApp Business, Workspace estilo Notion e muito mais.**

---

## âš¡ Quick Start

```bash
# 1. Instalar dependÃªncias
npm install

# 2. Sincronizar banco de dados
npm run db:push

# 3. Iniciar servidor
npm run dev
```

**Login:** admin@example.com (senha gerada automaticamente - veja logs do servidor)

---

## ğŸ“‹ ğŸ†• PRESERVAÃ‡ÃƒO COMPLETA - Zero Perdas ao Exportar!

**âš ï¸ ATENÃ‡ÃƒO:** Ao exportar para GitHub vocÃª perde histÃ³ricos, secrets e dados do banco!

**âœ… SOLUÃ‡ÃƒO COMPLETA:** Criamos um guia definitivo que preserva 100% das informaÃ§Ãµes:

ğŸ‘‰ **[PRESERVACAO_COMPLETA_ESTADO.md](PRESERVACAO_COMPLETA_ESTADO.md)** - **GUIA DEFINITIVO** (800+ linhas)

**O que estÃ¡ documentado:**
- âœ… Todos os 3 secrets obrigatÃ³rios + como obtÃª-los
- âœ… Estado completo do banco (45 tabelas documentadas)
- âœ… 7 labels WhatsApp criadas automaticamente
- âœ… Checklist passo-a-passo de exportaÃ§Ã£o/importaÃ§Ã£o
- âœ… Troubleshooting completo de todos os erros
- âœ… Como economizar 95% dos crÃ©ditos (~475 crÃ©ditos/ciclo)
- âœ… Credenciais padrÃ£o e como alterÃ¡-las
- âœ… **GARANTIA:** Zero perda de informaÃ§Ãµes!

---

## ğŸš€ Export Otimizado - Economize 95% de CrÃ©ditos!

### âš ï¸ IMPORTANTE: Gasto de CrÃ©ditos

**Problema:** Exportar este projeto SEM otimizaÃ§Ã£o gasta **~500 crÃ©ditos**!

**SoluÃ§Ã£o:** Com otimizaÃ§Ã£o, gasta apenas **~25 crÃ©ditos** (economia de 95%)

### ğŸ“¦ Como Exportar (3 comandos)

**PASSO 1:** Antes de exportar (no Replit atual)
```bash
bash scripts/limpar-antes-exportar.sh
```

**PASSO 2:** Exportar para GitHub
```bash
git add .
git commit -m "Otimizado para export"
git push origin main
```

**PASSO 3:** Depois de importar (no Replit novo)
```bash
# OPÃ‡ÃƒO RECOMENDADA: Um Ãºnico comando
bash scripts/setup-rapido.sh

# OU, se preferir mais controle:
bash scripts/restaurar-apos-importar.sh
```

**ğŸ“– Guias completos:**
- [EXPORT_OTIMIZADO_FINAL.md](EXPORT_OTIMIZADO_FINAL.md) - Guia definitivo
- [GUIA_EXPORT_OTIMIZADO.md](GUIA_EXPORT_OTIMIZADO.md) - Passo a passo

### ğŸ’° ComparaÃ§Ã£o de Custos

| MÃ©trica | Sem OtimizaÃ§Ã£o | Com OtimizaÃ§Ã£o | Economia |
|---------|---------------|----------------|----------|
| **Tamanho** | 842MB | 40MB | **95%** |
| **CrÃ©ditos** | ~500 | ~25 | **95%** |
| **Tempo** | 30-40min | ~10min | **75%** |

---

## âœ¨ Recursos Principais

- ğŸ¯ **Dashboard Executivo** - MÃ©tricas em tempo real
- ğŸ“… **Google Calendar** - SincronizaÃ§Ã£o automÃ¡tica
- ğŸ” **AutenticaÃ§Ã£o BiomÃ©trica** - Login seguro via impressÃ£o digital/face
- ğŸ“Š **Workspace Notion** - Editor rico, databases, kanban
- ğŸ’³ **Pluggy Banking** - IntegraÃ§Ã£o com 200+ bancos brasileiros
- ğŸ“ **GestÃ£o de Arquivos** - Upload com OCR automÃ¡tico via N8N
- ğŸ“± **PWA** - App instalÃ¡vel com notificaÃ§Ãµes push
- ğŸ“ **WhatsApp Business** - Mensagens via Evolution API + **Etiquetas AutomÃ¡ticas** ğŸ·ï¸
- ğŸŒ™ **UI Premium** - Dark theme com glassmorphism

---

## ğŸ·ï¸ NOVO: Etiquetas AutomÃ¡ticas WhatsApp

**Sistema totalmente automÃ¡tico que sincroniza formulÃ¡rios do Supabase com etiquetas coloridas no WhatsApp!**

### âœ… Como Funciona (100% AutomÃ¡tico - Mesmo Sem HistÃ³rico!)

1. **Ao iniciar servidor** â†’ Conecta no Supabase automaticamente
2. **Cria 7 etiquetas padrÃ£o** â†’ No banco PostgreSQL local
3. **Sincroniza form_submissions** â†’ Se houver dados no Supabase
4. **Background jobs iniciados** â†’ Verifica novos formulÃ¡rios a cada 2 minutos

**ğŸ”¥ FUNCIONA SEM HISTÃ“RICO:** Sistema fica pronto mesmo se `form_submissions` estiver vazia!

### ğŸš€ Setup InstantÃ¢neo (2 Passos)

**1. Configure 2 Secrets do Supabase:**
- `REACT_APP_SUPABASE_URL` - URL do projeto Supabase
- `REACT_APP_SUPABASE_ANON_KEY` - Chave anÃ´nima/pÃºblica

**2. Inicie o servidor:**
```bash
npm run dev
```

**PRONTO!** VocÃª verÃ¡ esta mensagem:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âœ… SISTEMA DE ETIQUETAS WHATSAPP PRONTO!                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… ConexÃ£o com Supabase estabelecida com sucesso
âœ… 7 etiquetas padrÃ£o criadas no banco PostgreSQL
âœ… Background jobs iniciados - sincronizaÃ§Ã£o a cada 2 minutos
ğŸ¯ Sistema aguardando novos formulÃ¡rios...
```

### ğŸ¨ Etiquetas DisponÃ­veis (Criadas Automaticamente)

- ğŸŸ¢ **Aprovado formulÃ¡rio** - Verde (formulÃ¡rio aprovado)
- ğŸ”´ **Reprovado formulÃ¡rio** - Vermelho (formulÃ¡rio reprovado)
- ğŸŸ¡ **FormulÃ¡rio incompleto** - Amarelo (formulÃ¡rio iniciado)
- âšª **Contato inicial** - Cinza (novo contato sem formulÃ¡rio)
- ğŸŸ  **ReuniÃ£o pendente** - Laranja (aguardando agendamento)
- ğŸ”µ **ReuniÃ£o marcada** - Azul (reuniÃ£o agendada)
- ğŸŸ£ **Consultor** - Roxo (lead qualificado)

### ğŸ’¡ Para Exibir no WhatsApp

ApÃ³s o sistema estar rodando, configure Evolution API em `/configuracoes`:
- Evolution API URL
- Evolution API Key
- Instance Name

**ğŸ“– DocumentaÃ§Ã£o Completa:** [WHATSAPP_LABELS_AUTO_SYNC.md](WHATSAPP_LABELS_AUTO_SYNC.md)  
**ğŸ“– Guia RÃ¡pido:** [QUICK_START_WHATSAPP_LABELS.md](QUICK_START_WHATSAPP_LABELS.md)

---

## ğŸ—ï¸ Tech Stack

**Frontend:**
- React 18 + TypeScript + Vite
- Tailwind CSS + Radix UI + Shadcn/ui
- React Query (TanStack)
- Wouter (routing)

**Backend:**
- Express.js + TypeScript
- PostgreSQL + Drizzle ORM
- JWT + Sessions
- Multi-tenant support

**IntegraÃ§Ãµes (opcionais):**
- Pluggy.ai, Supabase, Google Calendar
- Evolution API (WhatsApp), N8N, Sentry, Resend

---

## ğŸ“ Estrutura do Projeto

```
â”œâ”€â”€ src/                    # Frontend React
â”‚   â”œâ”€â”€ platforms/          # Desktop/Mobile
â”‚   â”œâ”€â”€ components/         # UI components
â”‚   â””â”€â”€ hooks/              # React Query hooks
â”œâ”€â”€ server/                 # Backend Express API
â”‚   â”œâ”€â”€ routes/             # API endpoints
â”‚   â”œâ”€â”€ lib/                # Utilities
â”‚   â”œâ”€â”€ formularios/        # Forms platform
â”‚   â””â”€â”€ index.ts            # Entry point
â”œâ”€â”€ shared/                 # Shared types
â”‚   â””â”€â”€ db-schema.ts        # Drizzle schema
â””â”€â”€ public/                 # Static assets
```

---

## ğŸ”§ Desenvolvimento

### Comandos Principais

```bash
# Desenvolvimento
npm run dev              # Inicia servidor (porta 5000)

# Banco de dados
npm run db:push          # Sincroniza schema
npm run db:push --force  # Force reset (cuidado!)

# Build
npm run build            # Build para produÃ§Ã£o
npm start                # Inicia produÃ§Ã£o
```

### VariÃ¡veis de Ambiente

**ObrigatÃ³rias:**
- `DATABASE_URL` - PostgreSQL (auto-configurado pelo Replit)
- `JWT_SECRET` - Chave JWT
- `SESSION_SECRET` - Chave de sessÃ£o

**Opcionais (configure via UI em `/configuracoes`):**
- Supabase, Google Calendar, WhatsApp
- Pluggy, Sentry, Resend, Redis

---

## ğŸš€ Deploy para ProduÃ§Ã£o

### ConfiguraÃ§Ã£o

O projeto jÃ¡ estÃ¡ configurado para deploy VM no Replit:

- **Tipo:** VM (servidor persistente)
- **Build:** `npm run build`
- **Run:** `npm start`
- **Porta:** 5000

### Checklist PrÃ©-Deploy

1. âœ… Definir variÃ¡veis de ambiente
2. âœ… Trocar JWT_SECRET e SESSION_SECRET
3. âœ… Atualizar credenciais de login
4. âœ… Testar build: `npm run build`
5. âœ… Clicar em "Deploy" no Replit

---

## ğŸ“– DocumentaÃ§Ã£o Completa

- **[GUIA_EXPORT_OTIMIZADO.md](GUIA_EXPORT_OTIMIZADO.md)** - âš¡ Como economizar 95% de crÃ©ditos
- **[DOCUMENTATION.md](DOCUMENTATION.md)** - DocumentaÃ§Ã£o tÃ©cnica completa
- **[replit.md](replit.md)** - Estado do projeto e configuraÃ§Ãµes

---

## ğŸ¯ API Endpoints Principais

### AutenticaÃ§Ã£o
- `POST /api/auth/login` - Login
- `POST /api/biometric/register-start` - Registrar biometria
- `POST /api/biometric/verify` - Verificar biometria

### Funcionalidades
- `GET /api/dashboard/metrics` - MÃ©tricas do dashboard
- `GET /api/clients` - GestÃ£o de clientes
- `GET /api/workspace/pages` - PÃ¡ginas do workspace
- `GET /api/pluggy/transactions` - TransaÃ§Ãµes bancÃ¡rias
- `GET /api/evolution/qrcode` - QR Code WhatsApp
- `GET /health` - Health check

---

## ğŸ”’ SeguranÃ§a

**Desenvolvimento:**
- Usa credenciais padrÃ£o (INSEGURO)
- JWT e Session secrets padrÃ£o

**ProduÃ§Ã£o:**
- âš ï¸ OBRIGATÃ“RIO trocar JWT_SECRET e SESSION_SECRET
- âš ï¸ Usar senhas bcrypt
- âš ï¸ Nunca commitar secrets
- âœ… Rate limiting habilitado (5 req/15min em auth)

---

## ğŸ› Troubleshooting

### App nÃ£o carrega
```bash
npm run dev
# Verificar logs em http://localhost:5000
```

### Erro de banco de dados
```bash
npm run db:push --force
```

### Workflow nÃ£o inicia
1. Verificar que `npm install` foi executado
2. Confirmar que DATABASE_URL estÃ¡ configurado
3. Checar logs do workflow

---

## ğŸ“Š O Que Preservar ao Exportar

âœ… **100% preservado:**
- Todo cÃ³digo-fonte (Frontend + Backend)
- Todas configuraÃ§Ãµes (package.json, configs)
- Todas funcionalidades (Dashboard, WhatsApp, Workspace, etc)
- Schema do banco de dados (Drizzle)
- AutomaÃ§Ãµes e filas de background
- IntegraÃ§Ãµes configuradas (salvas no DB)

âŒ **Removido ao exportar (e regenerado):**
- node_modules (746MB) â†’ `npm install`
- Backups .git antigos (46MB)
- DocumentaÃ§Ã£o duplicada (17.6MB)
- Cache temporÃ¡rio (80KB)

**Resultado:** 842MB â†’ 40MB (95% menor!)

---

## ğŸ’¡ Dicas de Economia de CrÃ©ditos

âœ… **SEMPRE:**
- Execute `scripts/limpar-antes-exportar.sh` antes de exportar
- Use "Skip" (nÃ£o Agent) ao importar
- Execute `scripts/restaurar-apos-importar.sh` apÃ³s importar

âŒ **NUNCA:**
- FaÃ§a commit de node_modules
- Use Agent no import do GitHub
- Exporte sem limpar primeiro

**ğŸ’° Economia por ciclo: ~475 crÃ©ditos!**

---

## ğŸ“ Scripts DisponÃ­veis

```bash
# OtimizaÃ§Ã£o de export
bash scripts/limpar-antes-exportar.sh      # ANTES de exportar
bash scripts/restaurar-apos-importar.sh    # DEPOIS de importar
bash scripts/check-size.sh                 # Verificar tamanho do projeto

# VerificaÃ§Ã£o
du -sh .                           # Ver tamanho do projeto
npm run dev                        # Testar localmente
```

---

## ğŸ“ Suporte

**Login de Teste:**
- Email: daviemericko@gmail.com
- Senha: 123456

**Problemas Comuns:**
- Schema do DB: `npm run db:push --force`
- DependÃªncias: `npm install`
- Port 5000 ocupada: Verificar workflow

**Links Ãšteis:**
- [Setup Guide](docs/SETUP.md)
- [Supabase Guide](docs/SUPABASE.md)
- [Schema Documentation](docs/SCHEMA.md)

---

## ğŸ“„ LicenÃ§a

Proprietary - Todos os direitos reservados

---

**Status:** âœ… ProduÃ§Ã£o  
**Ãšltima AtualizaÃ§Ã£o:** 04 de Novembro de 2025  
**Plataforma:** Otimizado para Replit  

**ğŸš€ Economize crÃ©ditos. Preserve funcionalidades. Export inteligente!**
